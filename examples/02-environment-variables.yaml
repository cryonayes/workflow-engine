# Environment Variables Example
# Demonstrates: workflow-level and task-level environment variables, variable interpolation

name: Environment Variables Demo
description: Shows how to use environment variables at workflow and task levels

environment:
  APP_NAME: MyApplication
  BUILD_CONFIG: Release
  VERSION: 1.0.0

tasks:
  - id: show-workflow-env
    name: Display Workflow Environment
    run: |
      echo "App: $APP_NAME"
      echo "Config: $BUILD_CONFIG"
      echo "Version: $VERSION"

  - id: use-interpolation
    name: Use Expression Interpolation
    run: 'echo "Building ${{ env.APP_NAME }} v${{ env.VERSION }} in ${{ env.BUILD_CONFIG }} mode"'

  - id: task-specific-env
    name: Task with Custom Environment
    run: |
      echo "Database: $DATABASE_URL"
      echo "Log Level: $LOG_LEVEL"
    environment:
      DATABASE_URL: "postgres://localhost:5432/mydb"
      LOG_LEVEL: "debug"

  - id: override-workflow-env
    name: Override Workflow Variable
    run: 'echo "Config is now: $BUILD_CONFIG"'
    environment:
      BUILD_CONFIG: Debug
